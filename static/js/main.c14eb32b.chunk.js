(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"g",function(){return o}),a.d(t,"f",function(){return r}),a.d(t,"c",function(){return c}),a.d(t,"e",function(){return _}),a.d(t,"b",function(){return i}),a.d(t,"d",function(){return l}),a.d(t,"a",function(){return s});var n=a(21),o=function(e,t){return{type:n.g,payload:{story:e,initial_panel:t}}},r=function(e,t){return{type:n.f,payload:{view:e,panel:t}}},c=function(){return{type:n.c}},_=function(e){return{type:n.e,payload:{popout:e}}},i=function(){return{type:n.b}},l=function(e){return{type:n.d,payload:{id:e}}},s=function(){return{type:n.a}}},107:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_daniilkurpachenko_Desktop_onewayfunc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),_Users_daniilkurpachenko_Desktop_onewayfunc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),_Users_daniilkurpachenko_Desktop_onewayfunc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(15),_Users_daniilkurpachenko_Desktop_onewayfunc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(16),_Users_daniilkurpachenko_Desktop_onewayfunc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(19),_Users_daniilkurpachenko_Desktop_onewayfunc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(17),_Users_daniilkurpachenko_Desktop_onewayfunc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(20),_Users_daniilkurpachenko_Desktop_onewayfunc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(46),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),react_redux__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(18),_store_router_actions__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(10),_services_VK__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(32),_services_renderers__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(94),_vkontakte_vkui__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2),_store_formData_actions__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(42),HomePanelTrain=function(_React$Component){function HomePanelTrain(e){var t;Object(_Users_daniilkurpachenko_Desktop_onewayfunc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.a)(this,HomePanelTrain),t=Object(_Users_daniilkurpachenko_Desktop_onewayfunc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__.a)(this,Object(_Users_daniilkurpachenko_Desktop_onewayfunc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__.a)(HomePanelTrain).call(this,e));var a={answer:""};return t.state={levelData:e.inputData.Settings||{level:-1,type:-1},inputData:a,disallowText:!1},t.handleInput=function(e){var a=e.currentTarget.value;a=a.replace(/[A-WY-Za-wy-z\u0410-\u042f\u0430-\u044f\u0401\u0451]/,""),console.log(a),t.setState({inputData:Object(_Users_daniilkurpachenko_Desktop_onewayfunc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__.a)({},t.state.inputData,Object(_Users_daniilkurpachenko_Desktop_onewayfunc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},e.currentTarget.name,a))})},t.clearForm=function(){t.setState({inputData:a})},t.confirmInput=t.confirmInput.bind(Object(_Users_daniilkurpachenko_Desktop_onewayfunc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(Object(_Users_daniilkurpachenko_Desktop_onewayfunc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__.a)(t))),t}return Object(_Users_daniilkurpachenko_Desktop_onewayfunc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__.a)(HomePanelTrain,_React$Component),Object(_Users_daniilkurpachenko_Desktop_onewayfunc_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__.a)(HomePanelTrain,[{key:"componentDidMount",value:function(){var e;switch(this.state.levelData.type){case"1":e='"\u041e\u0431\u0440\u0430\u0442\u043d\u044b\u0435" \u0444\u0443\u043d\u043a\u0446\u0438\u0438';break;default:e="\u041e\u0448\u0438\u0431\u043a\u0430"}this.setState({trainType:e,itog:""}),this.makeCipher(),console.log(this.state.levelData)}},{key:"openPopout",value:function(){var e=this;this.props.openPopout(react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_vkontakte_vkui__WEBPACK_IMPORTED_MODULE_13__.a,{actions:[{title:"\u041d\u0435\u0442",autoclose:!0,style:"cancel"},{title:"\u0414\u0430",autoclose:!0,action:this.props.goBack}],onClose:function(){return e.props.closePopout()}},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("h2",null,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("p",null,"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435?")))}},{key:"wrongInput",value:function(){var e=this;this.props.openPopout(react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_vkontakte_vkui__WEBPACK_IMPORTED_MODULE_13__.a,{onClose:function(){return e.props.closePopout()}},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("h2",null,"\u0412\u044b \u043d\u0435 \u0432\u0432\u0435\u043b\u0438 x!")))}},{key:"getRandomInt",value:function(e){return Math.floor(Math.random()*Math.floor(e))}},{key:"makeCipher",value:function(){var e=["\u0432\u0441\u0435\u043c \u043f\u0440\u0438\u0432\u0435\u0442","\u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","\u0432\u0442\u043e\u0440\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"][this.getRandomInt(3)],t="";switch(this.state.levelData.level){case"0":for(var a=this.getRandomInt(10)+1,n=0;n<e.length;n++)t+=String.fromCodePoint(e.charCodeAt(n)+a);this.setState({CipherFunc:"x+"+a});break;case"1":for(var o=this.getRandomInt(100)+1,r=this.getRandomInt(20)+33,c=0;c<e.length;c++)t+=String.fromCodePoint(1072+Number(e.charCodeAt(c)+o)%r);this.setState({CipherFunc:"(x+"+o+")%"+r});break;case"2":for(var _=this.getRandomInt(20)+1,i=this.getRandomInt(20)+33,l=0;l<e.length;l++)t+=String.fromCodePoint(1072+Number(e.charCodeAt(l)*_)%i);this.setState({CipherFunc:"(x*"+_+")%"+i});break;case"3":for(var s=this.getRandomInt(10)+1,u=this.getRandomInt(20)+33,p=0;p<e.length;p++)t+=String.fromCodePoint(1072+Number(Math.pow(e.charCodeAt(p),s))%u);this.setState({CipherFunc:"(x**"+s+")%"+u});break;default:t="\u041e\u0448\u0438\u0431\u043a\u0430"}this.setState({Message:t})}},{key:"confirmExit",value:function(){this.openPopout()}},{key:"confirmInput",value:function confirmInput(){if(-1!=this.state.inputData.answer.indexOf("x")){for(var decoded="",i=0;i<this.state.Message.length;i++)-1!=this.state.inputData.answer.indexOf("%")?decoded+=String.fromCharCode(1072+eval(this.state.inputData.answer.substr(0,this.state.inputData.answer.indexOf("x"))+(this.state.Message.charCodeAt(i)-1072)+this.state.inputData.answer.substr(this.state.inputData.answer.indexOf("x")+1,this.state.inputData.answer.length-1))):decoded+=String.fromCharCode(eval(this.state.inputData.answer.substr(0,this.state.inputData.answer.indexOf("x"))+this.state.Message.charCodeAt(i)+this.state.inputData.answer.substr(this.state.inputData.answer.indexOf("x")+1,this.state.inputData.answer.length-1)));console.log(decoded),this.setState({Decode:decoded})}else this.wrongInput()}},{key:"render",value:function(){var e=this,t=this.props,a=t.id;t.setPage,t.goBack;return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_vkontakte_vkui__WEBPACK_IMPORTED_MODULE_13__.v,{id:a},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_vkontakte_vkui__WEBPACK_IMPORTED_MODULE_13__.w,{left:react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_vkontakte_vkui__WEBPACK_IMPORTED_MODULE_13__.x,{onClick:function(){return e.confirmExit()}})},this.state.trainType),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_vkontakte_vkui__WEBPACK_IMPORTED_MODULE_13__.h,null,"\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435: ",react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("b",null,this.state.Message)),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_vkontakte_vkui__WEBPACK_IMPORTED_MODULE_13__.h,null,'\u0412\u0430\u0448\u0430 \u0437\u0430\u0434\u0430\u0447\u0430 - \u0432\u0432\u0435\u0441\u0442\u0438 \u0444\u0443\u043d\u043a\u0446\u044e, \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0432 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043a \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0441\u0438\u043c\u0432\u043e\u043b\u0443, \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435. \u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 "\u0431\u0443\u043a\u0432\u044b" \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 ',react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("b",null,"x"),", \u0430 \u0434\u043b\u044f \u0432\u043e\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432 \u0441\u0442\u0435\u043f\u0435\u043d\u044c ",react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("b",null,"**")," \u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u0432\u043e\u0434\u0430: ",react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("b",null,"(x**2+1)%5")),"\u0424\u0443\u043d\u043a\u0446\u0438\u044f \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043b\u0438: ",this.state.CipherFunc,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_vkontakte_vkui__WEBPACK_IMPORTED_MODULE_13__.h,null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_vkontakte_vkui__WEBPACK_IMPORTED_MODULE_13__.q,{value:this.state.inputData.answer,pattern:"[+]7\\s[\\(]\\d{3}[\\)]\\s\\d{3}[\\-]\\d{2}[\\-]\\d{2}",onChange:this.handleInput,name:"answer",placeholder:"\u0412\u0430\u0448 \u043e\u0442\u0432\u0435\u0442",autoComplete:"off"}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_vkontakte_vkui__WEBPACK_IMPORTED_MODULE_13__.c,{size:"l",stretched:!0,onClick:this.confirmInput},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c")),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_vkontakte_vkui__WEBPACK_IMPORTED_MODULE_13__.h,null,this.state.Decode))}}]),HomePanelTrain}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component),mapStateToProps=function(e){return{inputData:e.formData.forms}},mapDispatchToProps={setFormData:_store_formData_actions__WEBPACK_IMPORTED_MODULE_14__.a,goBack:_store_router_actions__WEBPACK_IMPORTED_MODULE_10__.c,setPage:_store_router_actions__WEBPACK_IMPORTED_MODULE_10__.f,openPopout:_store_router_actions__WEBPACK_IMPORTED_MODULE_10__.e,closePopout:_store_router_actions__WEBPACK_IMPORTED_MODULE_10__.b,openModal:_store_router_actions__WEBPACK_IMPORTED_MODULE_10__.d};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_9__.b)(mapStateToProps,mapDispatchToProps)(HomePanelTrain)},152:function(e,t,a){e.exports=a(67)},189:function(e,t,a){},21:function(e,t,a){"use strict";a.d(t,"f",function(){return n}),a.d(t,"g",function(){return o}),a.d(t,"c",function(){return r}),a.d(t,"e",function(){return c}),a.d(t,"b",function(){return _}),a.d(t,"d",function(){return i}),a.d(t,"a",function(){return l});var n="SET_PAGE",o="SET_STORY",r="GO_BACK",c="OPEN_POPOUT",_="CLOSE_POPOUT",i="OPEN_MODAL",l="CLOSE_MODAL"},27:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"a",function(){return o}),a.d(t,"b",function(){return r}),a.d(t,"d",function(){return c}),a.d(t,"e",function(){return _});var n="SET_COLOR_SCHEME",o="SET_ACCESS_TOKEN",r="SET_ACTIVE_TAB",c="SET_SCROLL_POSITION",_="SET_SCROLL_POSITION_BY_ID"},32:function(e,t,a){"use strict";a.d(t,"b",function(){return c}),a.d(t,"a",function(){return _}),a.d(t,"d",function(){return i}),a.d(t,"c",function(){return l});var n=a(30),o=a.n(n),r=(a(67),a(34)),c=function(){return function(e){return o.a.subscribe(function t(a){"VKWebAppUpdateConfig"===a.detail.type&&(o.a.unsubscribe(t),e(Object(r.c)(a.detail.data.scheme)))}),o.a.send("VKWebAppInit",{}).then(function(e){return e}).catch(function(e){return e})}},_=function(){return o.a.send("VKWebAppClose",{status:"success"}).then(function(e){return e}).catch(function(e){return e})},i=function(){return o.a.send("VKWebAppEnableSwipeBack",{}).then(function(e){return e}).catch(function(e){return e})},l=function(){return o.a.send("VKWebAppDisableSwipeBack",{}).then(function(e){return e}).catch(function(e){return e})}},34:function(e,t,a){"use strict";a.d(t,"c",function(){return o}),a.d(t,"a",function(){return r}),a.d(t,"b",function(){return c}),a.d(t,"d",function(){return _});var n=a(27),o=function(e){return{type:n.c,payload:e}},r=function(e){return{type:n.a,payload:e}},c=function(e,t){return{type:n.b,payload:{component:e,tab:t}}},_=function(e){return{type:n.e,payload:{component:e}}}},42:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(53),o=function(e,t){return{type:n.a,payload:{form:e,data:t}}}},53:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n="SAVE_FORM_DATA"},67:function(e,t,a){"use strict";a.r(t);a(153),a(178);var n=a(0),o=a.n(n),r=a(52),c=a.n(r),_=a(26),i=a(95),l=a(18),s=a(9),u=a(6),p=a(44),d=a(21),m=a(32),h=function(e){var t=le.getState().router.activePanel,a=le.getState().router.panelsHistory;return"undefined"!==typeof a[e]&&(t=a[e][a[e].length-1]),t},E={activeStory:null,activeView:null,activePanel:null,storiesHistory:[],viewsHistory:[],panelsHistory:[],activeModals:[],modalHistory:[],popouts:[],scrollPosition:[]},b=a(27),f={accessToken:void 0,colorScheme:"client_light",activeTab:[],componentScroll:[]},O=a(53),v={forms:[]},y=Object(_.combineReducers)({vkui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.c:return Object(u.a)({},e,{colorScheme:t.payload});case b.a:return Object(u.a)({},e,{accessToken:t.payload});case b.b:return Object(u.a)({},e,{activeTab:Object(u.a)({},e.activeTab,Object(s.a)({},t.payload.component,t.payload.tab))});case b.d:return Object(u.a)({},e,{componentScroll:Object(u.a)({},e.componentScroll,Object(s.a)({},t.payload.component,{x:t.payload.x,y:t.payload.y}))});case b.e:var a=document.getElementById(t.payload.component).getElementsByClassName("HorizontalScroll__in")[0],n=a.scrollLeft,o=a.scrollTop;return Object(u.a)({},e,{componentScroll:Object(u.a)({},e.componentScroll,Object(s.a)({},t.payload.component,{x:n,y:o}))});default:return e}},router:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.f:var a=t.payload.view,n=t.payload.panel;window.history.pushState(null,null);var o=e.panelsHistory[a]||[],r=e.viewsHistory[e.activeStory]||[],c=r.indexOf(a);return-1!==c&&r.splice(c,1),-1===o.indexOf(n)&&(o=[].concat(Object(p.a)(o),[n])),o.length>1&&m.d(),Object(u.a)({},e,{activeView:a,activePanel:n,panelsHistory:Object(u.a)({},e.panelsHistory,Object(s.a)({},a,o)),viewsHistory:Object(u.a)({},e.viewsHistory,Object(s.a)({},e.activeStory,[].concat(Object(p.a)(r),[a]))),scrollPosition:Object(u.a)({},e.scrollPosition,Object(s.a)({},e.activeStory+"_"+e.activeView+"_"+e.activePanel,window.pageYOffset))});case d.g:window.history.pushState(null,null);var _=e.viewsHistory[t.payload.story]||[t.payload.story],i=e.storiesHistory,l=_[_.length-1],h=e.panelsHistory[l]||[t.payload.initial_panel],b=h[h.length-1];if(t.payload.story===e.activeStory)if(h.length>1){var f=h.shift();b=(h=[f])[h.length-1]}else if(_.length>1){var O=_.shift();l=(_=[O])[_.length-1],b=(h=e.panelsHistory[l])[h.length-1]}return t.payload.story===e.activeStory&&1===h.length&&window.pageYOffset>0&&(window.scrollTo(0,30),function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>30||t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/8))}()),(-1===i.indexOf(t.payload.story)||i[0]===t.payload.story&&i[i.length-1]!==t.payload.story)&&(i=[].concat(Object(p.a)(i),[t.payload.story])),Object(u.a)({},e,{activeStory:t.payload.story,activeView:l,activePanel:b,storiesHistory:i,viewsHistory:Object(u.a)({},e.viewsHistory,Object(s.a)({},l,_)),panelsHistory:Object(u.a)({},e.panelsHistory,Object(s.a)({},l,h)),scrollPosition:Object(u.a)({},e.scrollPosition,Object(s.a)({},e.activeStory+"_"+e.activeView+"_"+e.activePanel,window.pageYOffset))});case d.c:var v=e.activeView,y=e.activePanel,D=e.activeStory,P=e.popouts;if(P[v])return P[v]=null,Object(u.a)({},e,{popouts:Object(u.a)({},e.popouts,{popoutsData:P})});var k=e.modalHistory[v];if(void 0!==k&&0!==k.length){var w=k[k.length-2]||null;return null===w?k=[]:-1!==k.indexOf(w)?k=k.splice(0,k.indexOf(w)+1):k.push(w),Object(u.a)({},e,{activeModals:Object(u.a)({},e.activeModals,Object(s.a)({},v,w)),modalHistory:Object(u.a)({},e.modalHistory,Object(s.a)({},v,k))})}var M=e.panelsHistory[v]||[],C=e.viewsHistory[e.activeStory]||[],g=e.storiesHistory;if(M.length>1)M.pop(),y=M[M.length-1];else if(C.length>1){C.pop(),v=C[C.length-1];var T=e.panelsHistory[v];y=T[T.length-1]}else if(g.length>1){g.pop(),D=g[g.length-1],v=e.viewsHistory[D][e.viewsHistory[D].length-1];var j=e.panelsHistory[v];y=j.length>1?j[j.length-1]:j[0]}else m.a();return 1===M.length&&m.c(),Object(u.a)({},e,{activeView:v,activePanel:y,activeStory:D,viewsHistory:Object(u.a)({},e.viewsHistory,Object(s.a)({},e.activeView,C)),panelsHistory:Object(u.a)({},e.panelsHistory,Object(s.a)({},e.activeView,M))});case d.e:return window.history.pushState(null,null),Object(u.a)({},e,{popouts:Object(u.a)({},e.popouts,Object(s.a)({},e.activeView,t.payload.popout))});case d.b:return Object(u.a)({},e,{popouts:Object(u.a)({},e.popouts,Object(s.a)({},e.activeView,null))});case d.d:window.history.pushState(null,null);var I=t.payload.id||null,A=e.modalHistory[e.activeView]?Object(p.a)(e.modalHistory[e.activeView]):[];return null===I?A=[]:-1!==A.indexOf(I)?A=A.splice(0,A.indexOf(I)+1):A.push(I),Object(u.a)({},e,{activeModals:Object(u.a)({},e.activeModals,Object(s.a)({},e.activeView,I)),modalHistory:Object(u.a)({},e.modalHistory,Object(s.a)({},e.activeView,A))});case d.a:var S=e.modalHistory[e.activeView][e.modalHistory[e.activeView].length-2]||null,B=e.modalHistory[e.activeView]?Object(p.a)(e.modalHistory[e.activeView]):[];return null===S?B=[]:-1!==B.indexOf(S)?B=B.splice(0,B.indexOf(S)+1):B.push(S),Object(u.a)({},e,{activeModals:Object(u.a)({},e.activeModals,Object(s.a)({},e.activeView,S)),modalHistory:Object(u.a)({},e.modalHistory,Object(s.a)({},e.activeView,B))});default:return e}},formData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.a:return Object(u.a)({},e,{forms:Object(u.a)({},e.forms,Object(s.a)({},t.payload.form,t.payload.data))});default:return e}}}),D=a(97),P=a(10),k=(a(188),a(189),a(15)),w=a(16),M=a(19),C=a(17),g=a(20),T=a(2),j=a(105),I=a.n(j),A=a(106),S=a.n(A),B=(a(199),function(e){function t(){var e,a;Object(k.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(M.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(o)))).state={showImg:!1},a.showImg=function(){a.setState({showImg:!0})},a}return Object(g.a)(t,e),Object(w.a)(t,[{key:"openPopout",value:function(){var e=this;this.props.openPopout(o.a.createElement(T.a,{actions:[{title:"\u041d\u0435\u0442",autoclose:!0,style:"cancel"},{title:"\u0414\u0430",autoclose:!0,action:this.showImg}],onClose:function(){return e.props.closePopout()}},o.a.createElement("h2",null,"\u0412\u043e\u043f\u0440\u043e\u0441 \u0437\u043d\u0430\u0447\u0438\u0442"),o.a.createElement("p",null,"\u0412\u0430\u0441 \u0440\u043e\u043d\u044f\u043b\u0438 \u0432 \u0434\u0435\u0442\u0441\u0442\u0432\u0435?")))}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.setPage;e.withoutEpic;return o.a.createElement(T.v,{id:t},o.a.createElement(T.w,null,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),o.a.createElement(T.m,null,o.a.createElement(T.h,null,o.a.createElement(T.c,{mode:"secondary",size:"l",stretched:!0,onClick:function(){return a("home","oneway")}},"\u041d\u0435 \u043d\u0430\u0436\u0438\u043c\u0430\u0442\u044c,\u0434\u0435\u0431\u0430\u0433")),o.a.createElement(T.h,null,o.a.createElement(T.c,{mode:"secondary",size:"l",style:{background:"blue",color:"black"},stretched:!0,onClick:function(){return a("home","train")}},"\u041d\u0430\u0447\u0430\u0442\u044c")),this.state.showImg&&o.a.createElement(T.h,{className:"div-center"},o.a.createElement("img",{src:"https://vk.com/sticker/1-12676-256",alt:"\u0421\u0442\u0438\u043a\u0435\u0440 VK"}))))}}]),t}(o.a.Component)),U={setPage:P.f,goBack:P.c,openPopout:P.e,closePopout:P.b,openModal:P.d},L=Object(l.b)(null,U)(B),R=a(107),W=(a(94),a(42)),K=function(e){function t(e){var a;Object(k.a)(this,t),a=Object(M.a)(this,Object(C.a)(t).call(this,e));var n={level:-1,type:-1};return a.state={inputData:e.inputData.Settings||n},a.handleInput=function(e){var t=e.currentTarget.value||-1;console.log("\u0412\u044b\u0431\u043e\u0440 - "+t),a.setState({inputData:Object(u.a)({},a.state.inputData,Object(s.a)({},e.currentTarget.name,t))})},a.clearForm=function(){a.setState({inputData:n})},a}return Object(g.a)(t,e),Object(w.a)(t,[{key:"componentWillUnmount",value:function(){this.props.setFormData("Settings",this.state.inputData)}},{key:"openPopout",value:function(){var e=this;this.props.openPopout(o.a.createElement(T.a,{actions:[{title:"\u043e\u043a",autoclose:!0}],onClose:function(){return e.props.closePopout()}},o.a.createElement("h2",null,"\u041e\u0448\u0438\u0431\u043a\u0430"),o.a.createElement("p",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0438 \u0442\u0438\u043f \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f")))}},{key:"commitTrain",value:function(){-1===this.state.inputData.type||-1===this.state.inputData.level?this.openPopout():(this.props.setFormData("Settings",this.state.inputData),this.props.setPage("home","oneway"))}},{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=(t.setPage,t.goBack);return o.a.createElement(T.v,{id:a},o.a.createElement(T.w,{left:o.a.createElement(T.x,{onClick:function(){return n()}})},"\u0412\u044b\u0431\u043e\u0440 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f"),o.a.createElement(T.h,null),o.a.createElement(T.m,null,o.a.createElement(T.k,null,o.a.createElement(T.l,{top:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438"},o.a.createElement(T.A,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0440\u043e\u0432\u0435\u043d\u044c",onChange:this.handleInput,name:"level",value:this.state.inputData.level},o.a.createElement("option",{value:"0"},"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430"),o.a.createElement("option",{value:"1"},"\u041b\u0435\u0433\u043a\u043e"),o.a.createElement("option",{value:"2"},"\u0421\u0440\u0435\u0434\u043d\u0435"),o.a.createElement("option",{value:"3"},"\u0421\u043b\u043e\u0436\u043d\u043e")),o.a.createElement(T.A,{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435",onChange:this.handleInput,name:"type",value:this.state.inputData.type},o.a.createElement("option",{value:"1"},"\u041e\u0431\u0440\u0430\u0442\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438")))),o.a.createElement(T.h,{className:"buttons-group"},o.a.createElement(T.c,{size:"l",stretched:!0,onClick:function(){return e.commitTrain()}},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e"),o.a.createElement(T.c,{size:"l",stretched:!0,onClick:this.clearForm},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"))))}}]),t}(o.a.Component),H={setFormData:W.a,goBack:P.c,setPage:P.f,openPopout:P.e,closePopout:P.b,openModal:P.d},x=Object(l.b)(function(e){return{inputData:e.formData.forms}},H)(K),V=a(34),F=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(M.a)(this,Object(C.a)(t).call(this,e))).state={activeTab:e.activeTab.EXAMPLE||"modal"},a}return Object(g.a)(t,e),Object(w.a)(t,[{key:"setTab",value:function(e){this.setState({activeTab:e})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.setScrollPositionByID;(0,e.setActiveTab)("EXAMPLE",this.state.activeTab),t("EXAMPLE_TABS_LIST")}},{key:"componentDidMount",value:function(){!function(){var e=le.getState().vkui.componentScroll;Object.keys(e).forEach(function(t){var a=e[t],n=document.getElementById(t);n&&((n=n.getElementsByClassName("HorizontalScroll__in")[0]).scrollLeft=a.x,n.scrollTop=a.y)})}()}},{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.setPage;return o.a.createElement(T.v,{id:a},o.a.createElement(T.w,{noShadow:!0},"Examples 2"),o.a.createElement(T.j,{vertical:"top"},o.a.createElement(T.D,{theme:"header",mode:"default"},o.a.createElement(T.n,{id:"EXAMPLE_TABS_LIST"},o.a.createElement(T.E,{onClick:function(){return e.setTab("modal")},selected:"modal"===this.state.activeTab},"\u041c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e"),o.a.createElement(T.E,{onClick:function(){return e.setTab("test")},selected:"test"===this.state.activeTab},"\u0414\u043b\u044f \u0442\u0435\u0441\u0442\u0430"),o.a.createElement(T.E,{onClick:function(){return e.setTab("test2")},selected:"test2"===this.state.activeTab},"\u0414\u043b\u044f \u0442\u0435\u0441\u0442\u0430 2"),o.a.createElement(T.E,{onClick:function(){return e.setTab("test3")},selected:"test3"===this.state.activeTab},"\u0414\u043b\u044f \u0442\u0435\u0441\u0442\u0430 3")))),o.a.createElement(T.m,{style:{marginTop:56}},"modal"===this.state.activeTab&&o.a.createElement(T.e,{onClick:function(){return n("modal","filters")}},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e"),"modal"!==this.state.activeTab&&o.a.createElement(T.h,null,this.state.activeTab)))}}]),t}(o.a.Component),q={setPage:P.f,setActiveTab:V.b,setScrollPositionByID:V.d},z=Object(l.b)(function(e){return{activeTab:e.vkui.activeTab}},q)(F),N=function(e){function t(e){var a;Object(k.a)(this,t),a=Object(M.a)(this,Object(C.a)(t).call(this,e));var n={workplace:"",workposition:"",checkboxPhoto:0,checkboxOnline:0};return a.state={inputData:e.inputData.example_form||n},a.handleInput=function(e){var t=e.currentTarget.value;"checkbox"===e.currentTarget.type&&(t=e.currentTarget.checked),a.setState({inputData:Object(u.a)({},a.state.inputData,Object(s.a)({},e.currentTarget.name,t))})},a.clearForm=function(){a.setState({inputData:n})},a}return Object(g.a)(t,e),Object(w.a)(t,[{key:"componentWillUnmount",value:function(){this.props.setFormData("example_form",this.state.inputData)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.goBack;return o.a.createElement(T.v,{id:t},o.a.createElement(T.w,{left:o.a.createElement(T.x,{onClick:function(){return a()}})},"\u041c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e"),o.a.createElement(T.m,null,o.a.createElement(T.k,null,o.a.createElement(T.l,{top:"\u0420\u0430\u0431\u043e\u0442\u0430"},o.a.createElement(T.q,{value:this.state.inputData.workplace,onChange:this.handleInput,name:"workplace",placeholder:"\u041c\u0435\u0441\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u044b",autoComplete:"off"}),o.a.createElement(T.q,{value:this.state.inputData.workposition,onChange:this.handleInput,name:"workposition",placeholder:"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c",autoComplete:"off"})),o.a.createElement(T.l,{top:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e"},o.a.createElement(T.f,{checked:this.state.inputData.checkboxPhoto,onChange:this.handleInput,name:"checkboxPhoto"},"\u0421 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0435\u0439"),o.a.createElement(T.f,{checked:this.state.inputData.checkboxOnline,onChange:this.handleInput,name:"checkboxOnline"},"\u0421\u0435\u0439\u0447\u0430\u0441 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435"))),o.a.createElement(T.h,{className:"buttons-group"},o.a.createElement(T.c,{size:"l",stretched:!0,onClick:function(){return a()}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),o.a.createElement(T.c,{size:"l",stretched:!0,onClick:this.clearForm},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"))))}}]),t}(o.a.Component),G={setFormData:W.a,goBack:P.c},Y=Object(l.b)(function(e){return{inputData:e.formData.forms}},G)(N),X=a(55),J=a.n(X),$=a(41),Q=a.n($),Z=a(54),ee=a.n(Z),te=[{name:"VKS",avatar:"https://pp.userapi.com/c851520/v851520442/48ce/Sik7V4c58qw.jpg",desc:"\u041d\u0435\u0442, \u043c\u0435\u043d\u044f \u043d\u0435 \u0440\u043e\u043d\u044f\u043b\u0438 \u0432 \u0434\u0435\u0442\u0441\u0442\u0432\u0435"},{name:"\u041d\u0435\u0434\u043e\u0431\u043e\u0442",avatar:"https://pp.userapi.com/c854420/v854420431/da51/X8ohw4-4Fk4.jpg",desc:"\u042f \u043d\u0438 \u0440\u0430\u0437\u0443 \u043d\u0435 \u043f\u0438\u043b \u043a\u043e\u043a\u043e\u0441\u043e\u0432\u043e\u0435 \u043c\u043e\u043b\u043e\u043a\u043e"},{name:"Realm of War",avatar:"https://sun9-72.userapi.com/c853520/v853520591/1f167d/avj_z9yFtQA.jpg?ava=1",desc:"\u041d\u0435\u043d\u0430\u0432\u0438\u0436\u0443 \u0441\u043f\u043e\u0439\u043b\u0435\u0440\u044b."}],ae=function(e){function t(){return Object(k.a)(this,t),Object(M.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.onClose,n=e.openModal,r=e.platform;return o.a.createElement(T.s,{id:t,header:o.a.createElement(T.t,{left:r!==T.o&&o.a.createElement(T.y,{onClick:a},o.a.createElement(Q.a,null)),right:r===T.o&&o.a.createElement(T.y,{onClick:a},o.a.createElement(J.a,null))},"/appbots \u043d\u0430 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u043a\u0430\u0445"),onClose:a,settlingHeight:80},o.a.createElement(T.r,null,te.map(function(e,t){return o.a.createElement(T.d,{key:t,description:e.desc,before:o.a.createElement(T.b,{size:40,src:e.avatar}),onClick:function(){return n("MODAL_PAGE_BOT_INFO")},asideContent:o.a.createElement(ee.a,{fill:"#528bcc"})},e.name)})))}}]),t}(o.a.Component),ne={openModal:P.d},oe=Object(T.G)(Object(l.b)(null,ne)(ae)),re=function(e){function t(){return Object(k.a)(this,t),Object(M.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.onClose,n=e.platform;return o.a.createElement(T.s,{id:t,header:o.a.createElement(T.t,{left:n!==T.o&&o.a.createElement(T.y,{onClick:a},o.a.createElement(Q.a,null)),right:n===T.o&&o.a.createElement(T.y,{onClick:a},o.a.createElement(J.a,null))},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0431\u043e\u0442\u0435"),onClose:a,settlingHeight:80},o.a.createElement(T.d,{description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",before:o.a.createElement(T.b,{size:40,src:"https://vk.com/images/community_100.png?ava=1"})},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),o.a.createElement(T.r,null,o.a.createElement(T.d,null,o.a.createElement(T.p,{header:"\u041f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432"},"8800")),o.a.createElement(T.d,null,o.a.createElement(T.p,{header:"\u0417\u0430\u043f\u0438\u0441\u0435\u0439"},"555")),o.a.createElement(T.d,null,o.a.createElement(T.p,{header:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"},"3535"))))}}]),t}(o.a.Component),ce=Object(T.G)(Object(l.b)()(re)),_e=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(M.a)(this,Object(C.a)(t).call(this,e))).lastAndroidBackAction=0,a}return Object(g.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.goBack;(0,t.dispatch)(m.b()),window.onpopstate=function(){var t=+new Date;t-e.lastAndroidBackAction>500?(e.lastAndroidBackAction=t,a()):window.history.pushState(null,null)}}},{key:"componentDidUpdate",value:function(e,t,a){var n=this.props,o=n.activeView,r=n.activeStory,c=n.activePanel,_=n.scrollPosition;if(e.activeView!==o||e.activePanel!==c||e.activeStory!==r){var i=_[r+"_"+o+"_"+c]||0;window.scroll(0,i)}}},{key:"render",value:function(){var e=this.props,t=e.goBack,a=e.setStory,n=e.closeModal,r=e.popouts,c=e.activeView,_=e.activeStory,i=e.activeModals,l=e.panelsHistory,s=e.colorScheme,u=void 0===l[c]?[c]:l[c],p=void 0===r[c]?null:r[c],d=void 0===i[c]?null:i[c],m=o.a.createElement(T.u,{activeModal:d},o.a.createElement(oe,{id:"MODAL_PAGE_BOTS_LIST",onClose:function(){return n()}}),o.a.createElement(ce,{id:"MODAL_PAGE_BOT_INFO",onClose:function(){return n()}}));return o.a.createElement(T.g,{isWebView:!0,scheme:s},o.a.createElement(T.i,{activeStory:_,tabbar:o.a.createElement(T.B,null,o.a.createElement(T.C,{onClick:function(){return a("home","base")},selected:"home"===_},o.a.createElement(I.a,null)),o.a.createElement(T.C,{onClick:function(){return a("more","callmodal")},selected:"more"===_},o.a.createElement(S.a,null)))},o.a.createElement(T.z,{id:"home",activeView:c,popout:p},o.a.createElement(T.F,{id:"home",modal:m,activePanel:h("home"),history:u,onSwipeBack:function(){return t()}},o.a.createElement(L,{id:"base",withoutEpic:!1}),o.a.createElement(R.a,{id:"oneway"}),o.a.createElement(x,{id:"train",popout:p}))),o.a.createElement(T.z,{id:"more",activeView:c,popout:p},o.a.createElement(T.F,{id:"more",modal:m,activePanel:h("more"),history:u,onSwipeBack:function(){return t()}},o.a.createElement(z,{id:"callmodal"})),o.a.createElement(T.F,{id:"modal",modal:m,activePanel:h("modal"),history:u,onSwipeBack:function(){return t()}},o.a.createElement(Y,{id:"filters"})))))}}]),t}(o.a.Component);var ie=Object(l.b)(function(e){return{activeView:e.router.activeView,activeStory:e.router.activeStory,panelsHistory:e.router.panelsHistory,activeModals:e.router.activeModals,popouts:e.router.popouts,scrollPosition:e.router.scrollPosition,colorScheme:e.vkui.colorScheme}},function(e){return Object(u.a)({dispatch:e},Object(_.bindActionCreators)({setStory:P.g,goBack:P.c,closeModal:P.a},e))})(_e);a.d(t,"store",function(){return le});var le=Object(_.createStore)(y,Object(D.composeWithDevTools)(Object(_.applyMiddleware)(i.a)));le.dispatch(Object(P.g)("home","base")),c.a.render(o.a.createElement(l.a,{store:le},o.a.createElement(ie,null)),document.getElementById("root"))},94:function(e,t,a){"use strict";var n=a(0),o=a.n(n),r=a(15),c=a(16),_=a(19),i=a(17),l=a(20),s=a(2);n.PureComponent}},[[152,1,2]]]);
//# sourceMappingURL=main.c14eb32b.chunk.js.map