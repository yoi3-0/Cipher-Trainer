{"ast":null,"code":"import _regeneratorRuntime from \"/Users/daniilkurpachenko/Desktop/onewayfunc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/daniilkurpachenko/Desktop/onewayfunc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/daniilkurpachenko/Desktop/onewayfunc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/daniilkurpachenko/Desktop/onewayfunc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/daniilkurpachenko/Desktop/onewayfunc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/daniilkurpachenko/Desktop/onewayfunc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/daniilkurpachenko/Desktop/onewayfunc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/daniilkurpachenko/Desktop/onewayfunc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/daniilkurpachenko/Desktop/onewayfunc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/daniilkurpachenko/Desktop/onewayfunc/src/js/panels/home/oneway.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from \"redux\";\nimport { goBack, openPopout, closePopout, openModal } from \"../../store/router/actions\";\nimport * as VK from '../../services/VK';\nimport { renderGroupsList } from '../../services/renderers';\nimport { Div, List, Panel, Group, Button, PanelHeader, PanelSpinner, PanelHeaderBack, Header } from \"@vkontakte/vkui\";\n\nvar HomePanelOneway = /*#__PURE__*/function (_React$Component) {\n  _inherits(HomePanelOneway, _React$Component);\n\n  function HomePanelOneway(props) {\n    var _this;\n\n    _classCallCheck(this, HomePanelOneway);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomePanelOneway).call(this, props));\n    var defaultInputData = {\n      workplace: '',\n      workposition: '',\n      checkboxPhoto: 0,\n      checkboxOnline: 0\n    };\n    _this.state = {\n      inputData: props.inputData['example_form'] || defaultInputData\n    };\n\n    _this.handleInput = function (e) {\n      var value = e.currentTarget.value;\n\n      if (e.currentTarget.type === 'checkbox') {\n        value = e.currentTarget.checked;\n      }\n\n      _this.setState({\n        inputData: _objectSpread({}, _this.state.inputData, _defineProperty({}, e.currentTarget.name, value))\n      });\n    };\n\n    _this.clearForm = function () {\n      _this.setState({\n        inputData: defaultInputData\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(HomePanelOneway, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.accessToken === undefined) {\n        this.getAuthToken();\n      } else {\n        this.getGroupsList();\n      }\n    }\n  }, {\n    key: \"getAuthToken\",\n    value: function getAuthToken() {\n      this.props.dispatch(VK.getAuthToken(['groups']));\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState, snapshot) {\n      if (this.props !== prevProps) {\n        if (this.props.accessToken === null) {\n          this.setState({\n            loading: false,\n            errorGetAuthToken: true\n          });\n        } else {\n          this.setState({\n            loading: true,\n            errorGetAuthToken: false\n          });\n          this.getGroupsList();\n        }\n      }\n    }\n  }, {\n    key: \"getGroupsList\",\n    value: function () {\n      var _getGroupsList = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var groups, adminedGroups, otherGroups;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(localStorage.getItem('userGroupsAdmined') && localStorage.getItem('userGroupsOther'))) {\n                  _context.next = 3;\n                  break;\n                }\n\n                this.setState({\n                  groups: {\n                    admined: JSON.parse(localStorage.getItem('userGroupsAdmined')),\n                    other: JSON.parse(localStorage.getItem('userGroupsOther'))\n                  },\n                  loading: false\n                });\n                return _context.abrupt(\"return\");\n\n              case 3:\n                _context.next = 5;\n                return VK.groupsGet();\n\n              case 5:\n                groups = _context.sent;\n                adminedGroups = groups.items.filter(function (item) {\n                  return item.is_admin === 1;\n                });\n                otherGroups = groups.items.filter(function (item) {\n                  return item.is_admin === 0;\n                });\n                localStorage.setItem('userGroupsAdmined', JSON.stringify(adminedGroups));\n                localStorage.setItem('userGroupsOther', JSON.stringify(otherGroups));\n                this.setState({\n                  groups: {\n                    admined: adminedGroups,\n                    other: otherGroups\n                  },\n                  loading: false\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getGroupsList() {\n        return _getGroupsList.apply(this, arguments);\n      }\n\n      return getGroupsList;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          id = _this$props.id,\n          goBack = _this$props.goBack;\n      var adminedGroupsList = renderGroupsList(this.state.groups.admined);\n      var otherGroupsList = renderGroupsList(this.state.groups.other);\n      return /*#__PURE__*/React.createElement(Panel, {\n        id: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(PanelHeader, {\n        left: /*#__PURE__*/React.createElement(PanelHeaderBack, {\n          onClick: function onClick() {\n            return goBack();\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 27\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 17\n        }\n      }, \"\\u0413\\u0440\\u0443\\u043F\\u043F\\u044B\"), this.state.loading && /*#__PURE__*/React.createElement(PanelSpinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 40\n        }\n      }), !this.state.loading && this.state.errorGetAuthToken && /*#__PURE__*/React.createElement(Group, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 73\n        }\n      }, /*#__PURE__*/React.createElement(Div, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }\n      }, \"\\u0412\\u043E\\u0437\\u043D\\u0438\\u043A\\u043B\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u043F\\u0440\\u0438 \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u0438\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445, \\u0432\\u043E\\u0437\\u043C\\u043E\\u0436\\u043D\\u043E \\u0412\\u044B \\u043D\\u0435 \\u0432\\u044B\\u0434\\u0430\\u043B\\u0438 \\u043F\\u0440\\u0430\\u0432\\u0430 \\u043D\\u0430 \\u0441\\u043F\\u0438\\u0441\\u043E\\u043A \\u0433\\u0440\\u0443\\u043F\\u043F.\"), /*#__PURE__*/React.createElement(Div, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        size: \"l\",\n        stretched: true,\n        onClick: function onClick() {\n          return _this2.getAuthToken();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }\n      }, \"\\u0417\\u0430\\u043F\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C \\u043F\\u043E\\u0432\\u0442\\u043E\\u0440\\u043D\\u043E\"))), !this.state.loading && !this.state.errorGetAuthToken && adminedGroupsList && /*#__PURE__*/React.createElement(Group, {\n        header: /*#__PURE__*/React.createElement(Header, {\n          mode: \"secondary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 21\n          }\n        }, \"\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u0443\\u0435\\u043C\\u044B\\u0435\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(List, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }\n      }, adminedGroupsList)), !this.state.loading && !this.state.errorGetAuthToken && otherGroupsList && /*#__PURE__*/React.createElement(Group, {\n        header: /*#__PURE__*/React.createElement(Header, {\n          mode: \"secondary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 21\n          }\n        }, \"\\u041E\\u0441\\u0442\\u0430\\u043B\\u044C\\u043D\\u044B\\u0435\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(List, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }\n      }, otherGroupsList)));\n    }\n  }]);\n\n  return HomePanelOneway;\n}(React.Component);\n\nfunction mapDispatchToProps(dispatch) {\n  return _objectSpread({\n    dispatch: dispatch\n  }, bindActionCreators({\n    goBack: goBack,\n    openPopout: openPopout,\n    closePopout: closePopout,\n    openModal: openModal\n  }, dispatch));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    accessToken: state.vkui.accessToken\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelOneway);","map":{"version":3,"sources":["/Users/daniilkurpachenko/Desktop/onewayfunc/src/js/panels/home/oneway.js"],"names":["React","connect","bindActionCreators","goBack","openPopout","closePopout","openModal","VK","renderGroupsList","Div","List","Panel","Group","Button","PanelHeader","PanelSpinner","PanelHeaderBack","Header","HomePanelOneway","props","defaultInputData","workplace","workposition","checkboxPhoto","checkboxOnline","state","inputData","handleInput","e","value","currentTarget","type","checked","setState","name","clearForm","accessToken","undefined","getAuthToken","getGroupsList","dispatch","prevProps","prevState","snapshot","loading","errorGetAuthToken","localStorage","getItem","groups","admined","JSON","parse","other","groupsGet","adminedGroups","items","filter","item","is_admin","otherGroups","setItem","stringify","id","adminedGroupsList","otherGroupsList","Component","mapDispatchToProps","mapStateToProps","vkui"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from \"redux\";\n\nimport {goBack, openPopout, closePopout, openModal} from \"../../store/router/actions\";\nimport * as VK from '../../services/VK';\n\nimport {renderGroupsList} from '../../services/renderers';\n\nimport {Div, List, Panel, Group, Button, PanelHeader, PanelSpinner, PanelHeaderBack, Header} from \"@vkontakte/vkui\";\n\nclass HomePanelOneway extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        let defaultInputData = {\n            workplace: '',\n            workposition: '',\n\n            checkboxPhoto: 0,\n            checkboxOnline: 0\n        };\n\n        this.state = {\n            inputData: props.inputData['example_form'] || defaultInputData\n        };\n\n        this.handleInput = (e) => {\n            let value = e.currentTarget.value;\n\n            if (e.currentTarget.type === 'checkbox') {\n                value = e.currentTarget.checked;\n            }\n\n            this.setState({\n                inputData: {\n                    ...this.state.inputData,\n                    [e.currentTarget.name]: value\n                }\n            })\n        };\n\n        this.clearForm = () => {\n            this.setState({\n                inputData: defaultInputData\n            });\n        };\n    }\n\n    componentDidMount() {\n        if (this.props.accessToken === undefined) {\n            this.getAuthToken();\n        } else {\n            this.getGroupsList();\n        }\n    }\n\n    getAuthToken() {\n        this.props.dispatch(VK.getAuthToken(['groups']));\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.props !== prevProps) {\n            if (this.props.accessToken === null) {\n                this.setState({\n                    loading: false,\n                    errorGetAuthToken: true\n                });\n            } else {\n                this.setState({\n                    loading: true,\n                    errorGetAuthToken: false\n                });\n\n                this.getGroupsList();\n            }\n        }\n    }\n\n    async getGroupsList() {\n        if (localStorage.getItem('userGroupsAdmined') && localStorage.getItem('userGroupsOther')) {\n            this.setState({\n                groups: {\n                    admined: JSON.parse(localStorage.getItem('userGroupsAdmined')),\n                    other: JSON.parse(localStorage.getItem('userGroupsOther')),\n                },\n                loading: false\n            });\n\n            return;\n        }\n\n        let groups = await VK.groupsGet();\n\n        let adminedGroups = groups.items.filter(function (item) {\n            return item.is_admin === 1;\n        });\n\n        let otherGroups = groups.items.filter(function (item) {\n            return item.is_admin === 0;\n        });\n\n        localStorage.setItem('userGroupsAdmined', JSON.stringify(adminedGroups));\n        localStorage.setItem('userGroupsOther', JSON.stringify(otherGroups));\n\n        this.setState({\n            groups: {\n                admined: adminedGroups,\n                other: otherGroups\n            },\n            loading: false\n        });\n    }\n\n    render() {\n        const {id, goBack} = this.props;\n\n        let adminedGroupsList = renderGroupsList(this.state.groups.admined);\n        let otherGroupsList = renderGroupsList(this.state.groups.other);\n\n        return (\n            <Panel id={id}>\n                <PanelHeader\n                    left={<PanelHeaderBack onClick={() => goBack()}/>}\n                >\n                    Группы\n                </PanelHeader>\n                {this.state.loading && <PanelSpinner/>}\n                {!this.state.loading && this.state.errorGetAuthToken && <Group>\n                    <Div>Возникла ошибка при получении данных, возможно Вы не выдали права на список групп.</Div>\n                    <Div>\n                        <Button size=\"l\" stretched={true} onClick={() => this.getAuthToken()}>Запросить\n                            повторно</Button>\n                    </Div>\n                </Group>}\n                {!this.state.loading && !this.state.errorGetAuthToken && adminedGroupsList &&\n                <Group header={\n                    <Header mode=\"secondary\">Администрируемые</Header>\n                }>\n                    <List>\n                        {adminedGroupsList}\n                    </List>\n                </Group>}\n                {!this.state.loading && !this.state.errorGetAuthToken && otherGroupsList &&\n                <Group header={\n                    <Header mode=\"secondary\">Остальные</Header>\n                }>\n                    <List>\n                        {otherGroupsList}\n                    </List>\n                </Group>}\n            </Panel>\n        );\n    }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        dispatch,\n        ...bindActionCreators({goBack, openPopout, closePopout, openModal}, dispatch)\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        accessToken: state.vkui.accessToken\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelOneway);\n"]},"metadata":{},"sourceType":"module"}