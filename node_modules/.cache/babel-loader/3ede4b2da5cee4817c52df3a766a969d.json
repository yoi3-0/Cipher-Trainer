{"ast":null,"code":"import { store } from \"../../index\";\nexport var smoothScrollToTop = function smoothScrollToTop() {\n  var c = document.documentElement.scrollTop || document.body.scrollTop;\n\n  if (c > 30) {\n    return;\n  }\n\n  if (c > 0) {\n    window.requestAnimationFrame(smoothScrollToTop);\n    window.scrollTo(0, c - c / 8);\n  }\n};\nexport var restoreScrollPosition = function restoreScrollPosition() {\n  var scrolls = store.getState().vkui.componentScroll;\n  Object.keys(scrolls).forEach(function (component) {\n    var componentData = scrolls[component];\n    var element = document.getElementById(component);\n\n    if (element) {\n      element = element.getElementsByClassName(\"HorizontalScroll__in\")[0];\n      element.scrollLeft = componentData.x;\n      element.scrollTop = componentData.y;\n    }\n  });\n};\nexport var getActivePanel = function getActivePanel(view) {\n  var panel = store.getState().router.activePanel;\n  var panelsHistory = store.getState().router.panelsHistory;\n\n  if (typeof panelsHistory[view] !== \"undefined\") {\n    panel = panelsHistory[view][panelsHistory[view].length - 1];\n  }\n\n  return panel;\n};","map":{"version":3,"sources":["/Users/daniilkurpachenko/Desktop/onewayfunc/src/js/services/_functions.js"],"names":["store","smoothScrollToTop","c","document","documentElement","scrollTop","body","window","requestAnimationFrame","scrollTo","restoreScrollPosition","scrolls","getState","vkui","componentScroll","Object","keys","forEach","component","componentData","element","getElementById","getElementsByClassName","scrollLeft","x","y","getActivePanel","view","panel","router","activePanel","panelsHistory","length"],"mappings":"AAAA,SAAQA,KAAR,QAAoB,aAApB;AAEA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AACnC,MAAMC,CAAC,GAAGC,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,IAAsCF,QAAQ,CAACG,IAAT,CAAcD,SAA9D;;AAEA,MAAIH,CAAC,GAAG,EAAR,EAAY;AACR;AACH;;AAED,MAAIA,CAAC,GAAG,CAAR,EAAW;AACPK,IAAAA,MAAM,CAACC,qBAAP,CAA6BP,iBAA7B;AACAM,IAAAA,MAAM,CAACE,QAAP,CAAgB,CAAhB,EAAmBP,CAAC,GAAGA,CAAC,GAAG,CAA3B;AACH;AACJ,CAXM;AAaP,OAAO,IAAMQ,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AACvC,MAAIC,OAAO,GAAGX,KAAK,CAACY,QAAN,GAAiBC,IAAjB,CAAsBC,eAApC;AAEAC,EAAAA,MAAM,CAACC,IAAP,CAAYL,OAAZ,EAAqBM,OAArB,CAA6B,UAACC,SAAD,EAAe;AACxC,QAAIC,aAAa,GAAGR,OAAO,CAACO,SAAD,CAA3B;AAEA,QAAIE,OAAO,GAAGjB,QAAQ,CAACkB,cAAT,CAAwBH,SAAxB,CAAd;;AAEA,QAAIE,OAAJ,EAAa;AACTA,MAAAA,OAAO,GAAGA,OAAO,CAACE,sBAAR,CAA+B,sBAA/B,EAAuD,CAAvD,CAAV;AAEAF,MAAAA,OAAO,CAACG,UAAR,GAAqBJ,aAAa,CAACK,CAAnC;AACAJ,MAAAA,OAAO,CAACf,SAAR,GAAoBc,aAAa,CAACM,CAAlC;AACH;AACJ,GAXD;AAYH,CAfM;AAiBP,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,IAAD,EAAU;AACpC,MAAIC,KAAK,GAAG5B,KAAK,CAACY,QAAN,GAAiBiB,MAAjB,CAAwBC,WAApC;AAEA,MAAIC,aAAa,GAAG/B,KAAK,CAACY,QAAN,GAAiBiB,MAAjB,CAAwBE,aAA5C;;AACA,MAAI,OAAOA,aAAa,CAACJ,IAAD,CAApB,KAA+B,WAAnC,EAAgD;AAC5CC,IAAAA,KAAK,GAAGG,aAAa,CAACJ,IAAD,CAAb,CAAoBI,aAAa,CAACJ,IAAD,CAAb,CAAoBK,MAApB,GAA6B,CAAjD,CAAR;AACH;;AAED,SAAOJ,KAAP;AACH,CATM","sourcesContent":["import {store} from \"../../index\";\n\nexport const smoothScrollToTop = () => {\n    const c = document.documentElement.scrollTop || document.body.scrollTop;\n\n    if (c > 30) {\n        return;\n    }\n\n    if (c > 0) {\n        window.requestAnimationFrame(smoothScrollToTop);\n        window.scrollTo(0, c - c / 8);\n    }\n};\n\nexport const restoreScrollPosition = () => {\n    let scrolls = store.getState().vkui.componentScroll;\n\n    Object.keys(scrolls).forEach((component) => {\n        let componentData = scrolls[component];\n\n        let element = document.getElementById(component);\n\n        if (element) {\n            element = element.getElementsByClassName(\"HorizontalScroll__in\")[0];\n\n            element.scrollLeft = componentData.x;\n            element.scrollTop = componentData.y;\n        }\n    });\n};\n\nexport const getActivePanel = (view) => {\n    let panel = store.getState().router.activePanel;\n\n    let panelsHistory = store.getState().router.panelsHistory;\n    if (typeof panelsHistory[view] !== \"undefined\") {\n        panel = panelsHistory[view][panelsHistory[view].length - 1];\n    }\n\n    return panel;\n};\n"]},"metadata":{},"sourceType":"module"}