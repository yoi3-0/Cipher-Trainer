{"ast":null,"code":"import _defineProperty from \"/Users/daniilkurpachenko/Desktop/onewayfunc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/daniilkurpachenko/Desktop/onewayfunc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/daniilkurpachenko/Desktop/onewayfunc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/daniilkurpachenko/Desktop/onewayfunc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/daniilkurpachenko/Desktop/onewayfunc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/daniilkurpachenko/Desktop/onewayfunc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/daniilkurpachenko/Desktop/onewayfunc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/daniilkurpachenko/Desktop/onewayfunc/src/js/panels/home/oneway.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from \"redux\";\nimport { goBack, openPopout, closePopout, openModal, setPage } from \"../../store/router/actions\";\nimport * as VK from '../../services/VK';\nimport { renderGroupsList } from '../../services/renderers';\nimport { Div, List, Panel, Group, Button, PanelHeader, PanelSpinner, PanelHeaderBack, Header, Select, FormLayout, FormLayoutGroup, Input, Checkbox, Alert } from \"@vkontakte/vkui\";\nimport { setFormData } from \"../../store/formData/actions\";\n\nvar HomePanelTrain = /*#__PURE__*/function (_React$Component) {\n  _inherits(HomePanelTrain, _React$Component);\n\n  function HomePanelTrain(props) {\n    var _this;\n\n    _classCallCheck(this, HomePanelTrain);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomePanelTrain).call(this, props));\n    var DefaultLevelData = {\n      level: -1,\n      type: -1\n    };\n    var DefaultInputlData = {\n      text: \"\",\n      userFunc: \"\"\n    };\n    _this.state = {\n      levelData: props.inputData['Settings'] || DefaultLevelData,\n      inputData: DefaultInputlData,\n      disallowText: false\n    };\n\n    _this.handleInput = function (e) {\n      var value = e.currentTarget.value || -1;\n      console.log(\"Выбор - \" + value);\n      /* if (e.currentTarget.type === 'checkbox') {\n           value = e.currentTarget.checked;\n       }*/\n\n      _this.setState({\n        inputData: _objectSpread({}, _this.state.inputData, _defineProperty({}, e.currentTarget.name, value))\n      });\n    };\n\n    _this.clearForm = function () {\n      _this.setState({\n        inputData: DefaultLevelData\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(HomePanelTrain, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var trainType;\n\n      switch (this.state.levelData.type) {\n        case \"1\":\n          trainType = '\"Обратные\" функции';\n          break;\n\n        default:\n          trainType = \"Ошибка\";\n          break;\n      }\n\n      this.setState({\n        trainType: trainType\n      });\n      /* this.setState({\n           inputData: this.props.formData\n       });*/\n      // this.props.setFormData('Settings', this.state.inputData);\n\n      console.log(this.state.levelData); // console.log( this.props.inputData['Settings']);\n    }\n  }, {\n    key: \"openPopout\",\n    value: function openPopout() {\n      var _this2 = this;\n\n      this.props.openPopout( /*#__PURE__*/React.createElement(Alert, {\n        actions: [{\n          title: 'Нет',\n          autoclose: true,\n          style: 'cancel'\n        }, {\n          title: 'Да',\n          autoclose: true,\n          action: this.props.goBack\n        }],\n        onClose: function onClose() {\n          return _this2.props.closePopout();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }\n      }, \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }\n      }, \"\\u0412\\u044B \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0437\\u0430\\u0432\\u0435\\u0440\\u0448\\u0438\\u0442\\u044C \\u0443\\u043F\\u0440\\u0430\\u0436\\u043D\\u0435\\u043D\\u0438\\u0435?\")));\n    }\n  }, {\n    key: \"commitTrain\",\n    value: function commitTrain() {\n      if (this.state.inputData.type === -1 || this.state.inputData.level === -1) this.openPopout();else this.props.setPage('home', 'oneway');\n    }\n  }, {\n    key: \"confirmExit\",\n    value: function confirmExit() {\n      this.openPopout();\n    }\n  }, {\n    key: \"confirmInput\",\n    value: function confirmInput() {\n      this.setState({\n        disallowText: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          id = _this$props.id,\n          setPage = _this$props.setPage,\n          goBack = _this$props.goBack;\n      return /*#__PURE__*/React.createElement(Panel, {\n        id: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(PanelHeader, {\n        left: /*#__PURE__*/React.createElement(PanelHeaderBack, {\n          onClick: function onClick() {\n            return _this3.confirmExit();\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 27\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }\n      }, this.state.trainType), /*#__PURE__*/React.createElement(Div, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Group, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        value: this.state.inputData.text,\n        onChange: this.handleInput,\n        name: \"text\",\n        placeholder: \"\\u0422\\u0435\\u043A\\u0441\\u0442 \\u0434\\u043B\\u044F \\u0448\\u0438\\u0444\\u0440\\u043E\\u0432\\u043A\\u0438\",\n        disabled: this.state.disallowText,\n        autoComplete: \"off\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        size: \"l\",\n        stretched: true,\n        onClick: this.confirmInput,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }\n      }, \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u044C\")), /*#__PURE__*/React.createElement(Group, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        value: this.state.inputData.workposition,\n        onChange: this.handleInput,\n        name: \"workposition\",\n        placeholder: \"\\u0414\\u043E\\u043B\\u0436\\u043D\\u043E\\u0441\\u0442\\u044C\",\n        autoComplete: \"off\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }\n      }))));\n    }\n  }]);\n\n  return HomePanelTrain;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    inputData: state.formData.forms\n  };\n};\n\nvar mapDispatchToProps = {\n  setFormData: setFormData,\n  goBack: goBack,\n  setPage: setPage,\n  openPopout: openPopout,\n  closePopout: closePopout,\n  openModal: openModal\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelTrain);","map":{"version":3,"sources":["/Users/daniilkurpachenko/Desktop/onewayfunc/src/js/panels/home/oneway.js"],"names":["React","connect","bindActionCreators","goBack","openPopout","closePopout","openModal","setPage","VK","renderGroupsList","Div","List","Panel","Group","Button","PanelHeader","PanelSpinner","PanelHeaderBack","Header","Select","FormLayout","FormLayoutGroup","Input","Checkbox","Alert","setFormData","HomePanelTrain","props","DefaultLevelData","level","type","DefaultInputlData","text","userFunc","state","levelData","inputData","disallowText","handleInput","e","value","currentTarget","console","log","setState","name","clearForm","trainType","title","autoclose","style","action","id","confirmExit","confirmInput","workposition","Component","mapStateToProps","formData","forms","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from \"redux\";\n\nimport {goBack, openPopout, closePopout, openModal, setPage} from \"../../store/router/actions\";\nimport * as VK from '../../services/VK';\n\nimport {renderGroupsList} from '../../services/renderers';\n\nimport {\n    Div,\n    List,\n    Panel,\n    Group,\n    Button,\n    PanelHeader,\n    PanelSpinner,\n    PanelHeaderBack,\n    Header, Select,\n    FormLayout, FormLayoutGroup, Input, Checkbox, Alert\n} from \"@vkontakte/vkui\";\nimport {setFormData} from \"../../store/formData/actions\";\n\nclass HomePanelTrain extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        let DefaultLevelData = {\n            level: -1,\n            type: -1,\n        };\n        let DefaultInputlData = {\n            text: \"\",\n            userFunc: \"\",\n        };\n\n        this.state = {\n            levelData: props.inputData['Settings'] || DefaultLevelData,\n            inputData: DefaultInputlData,\n            disallowText: false,\n        };\n\n        this.handleInput = (e) => {\n            let value = e.currentTarget.value ||-1;\n            console.log(\"Выбор - \" + value);\n            /* if (e.currentTarget.type === 'checkbox') {\n                 value = e.currentTarget.checked;\n             }*/\n            this.setState({\n                inputData: {\n                    ...this.state.inputData,\n                    [e.currentTarget.name]: value\n                }\n            })\n        };\n\n        this.clearForm = () => {\n            this.setState({\n                inputData: DefaultLevelData\n            });\n        };\n    }\n    componentDidMount() {\n        let trainType;\n        switch(this.state.levelData.type)\n        {\n            case \"1\": trainType='\"Обратные\" функции'; break;\n            default: trainType=\"Ошибка\"; break;\n        }\n        this.setState({\n            trainType: trainType\n        });\n       /* this.setState({\n            inputData: this.props.formData\n        });*/\n       // this.props.setFormData('Settings', this.state.inputData);\n        console.log(this.state.levelData);\n       // console.log( this.props.inputData['Settings']);\n    }\n    openPopout() {\n        this.props.openPopout(\n            <Alert\n                actions={[{\n                    title: 'Нет',\n                    autoclose: true,\n                    style: 'cancel',\n                }, {\n                    title: 'Да',\n                    autoclose: true,\n                    action: this.props.goBack\n                }]}\n                onClose={() => this.props.closePopout()}\n            >\n                <h2>Подтвердите действие</h2>\n                <p>Вы действительно хотите завершить упражнение?</p>\n            </Alert>\n        );\n    }\n    commitTrain()\n    {\n        if (this.state.inputData.type===-1 || this.state.inputData.level===-1)\n            this.openPopout(); else this.props.setPage('home', 'oneway');\n    }\n    confirmExit()\n    {\n        this.openPopout()\n    }\n    confirmInput()\n    {\n        this.setState({disallowText:true});\n    }\n    render() {\n        const {id, setPage, goBack} = this.props;\n\n        return (\n            <Panel id={id}>\n                <PanelHeader\n                    left={<PanelHeaderBack onClick={() => this.confirmExit()}/>}\n                >\n                    {this.state.trainType}\n                </PanelHeader>\n                <Div>\n                    <Group>\n                    <Input value={this.state.inputData.text}\n                           onChange={this.handleInput}\n                           name=\"text\"\n                           placeholder=\"Текст для шифровки\"\n                           disabled={this.state.disallowText}\n                           autoComplete=\"off\"/>\n                        <Button size=\"l\" stretched={true} onClick={this.confirmInput}>Подтвердить</Button>\n                    </Group>\n                    <Group>\n                    <Input value={this.state.inputData.workposition}\n                           onChange={this.handleInput}\n                           name=\"workposition\"\n                           placeholder=\"Должность\"\n                           autoComplete=\"off\"/>\n                    </Group>\n                </Div>\n            </Panel>\n        );\n    }\n\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        inputData: state.formData.forms,\n    };\n};\n\nconst mapDispatchToProps = {\n    setFormData,\n    goBack,\n    setPage,\n    openPopout,\n    closePopout,\n    openModal\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelTrain);\n"]},"metadata":{},"sourceType":"module"}